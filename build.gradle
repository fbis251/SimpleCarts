apply plugin: 'java'
import org.apache.tools.ant.filters.ReplaceTokens
version = '1.6.1'
sourceCompatibility = 1.6
// Make sure the plugin yml files are up to date before a JAR is created
task copyTask << {
    copy {
        from 'config.yml.template'
        from 'plugin.yml.template'
// Set the latest version in plugin.yml
        filter(ReplaceTokens, tokens: [VERSION: version])
        rename { String fileName ->
            fileName.replace('.template', '')
        }
        into 'src/main/resources'
    }
}
repositories {
    maven {
        url "https://hub.spigotmc.org/nexus/content/groups/public/"
    }
    maven {
        url "http://nexus.theyeticave.net/content/repositories/pub_releases/"
    }
}
// Make sure that the template files have the proper version added to them
processResources.dependsOn copyTask
dependencies {
    compile 'org.bukkit:bukkit:1.8.3-R0.1-SNAPSHOT'
    compile 'net.milkbowl.vault:VaultAPI:1.5'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}